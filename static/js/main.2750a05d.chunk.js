(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{19:function(e,t,a){e.exports=a(42)},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),s=a(2),i=a.n(s),o=a(3),m=a(4),p=a(6),u=a(5),h=a(7),d=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"py-3",style:{backgroundColor:"#5f98d5"}},r.a.createElement("div",{className:"container d-flex justify-content-center"},r.a.createElement("div",null,r.a.createElement("h1",{className:"text-capitalize text-light"},r.a.createElement("i",{className:"fas fa-sun text-yellow mr-3",style:{fontSize:"2.5rem",color:"yellow"}}),"weather forecast")))))},f=function(){return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},r.a.createElement("div",{className:"spinner-border",style:{width:"3rem",height:"3rem"},role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:"spinner-grow",style:{width:"3rem",height:"3rem"},role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",null,"Loading..."))},y=function(e){return e-273.15},g=function(e){return 9*(e-273.15)/5+32},v=function(e){var t={temp:e.temp,temp_min:e.temp_min,temp_max:e.temp_max};return Object.keys(t).forEach((function(e){var a=t[e];t[e]=g(a)})),t},x=function(e){var t={temp:e.temp,temp_min:e.temp_min,temp_max:e.temp_max};return Object.keys(t).forEach((function(e){var a=t[e];t[e]=y(a)})),t},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=new Date(1e3*e),a=t.getHours(),n=t.getMinutes(),r=a>=12?"PM":"AM";return"".concat(a," : ").concat(n," ").concat(r)},w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={onClickProperties:{celcius:{color:"text-secondary"},fahrenheit:{color:"text-light"}},convertedTemps:{temp:null,temp_min:null,temp_max:null},showedTemp:"fahrenheit"},a.onCelciusClick=function(){a.setState({onClickProperties:{celcius:{color:"text-light"},fahrenheit:{color:"text-secondary"}},convertedTemps:x(a.props.data.main)}),a.props.changeShowedTemp("celcius")},a.onFahrenheitClick=function(){a.setState({onClickProperties:{celcius:{color:"text-secondary"},fahrenheit:{color:"text-light"}},convertedTemps:v(a.props.data.main),showedTemp:"fahrenheit"}),a.props.changeShowedTemp("fahrenheit")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.data.main;this.setState({convertedTemps:v(e)})}},{key:"componentDidUpdate",value:function(e){var t=this.props.data.main.temp;if(e.data.main.temp!==t){var a=this.props.data.main;this.setState({onClickProperties:{celcius:{color:"text-secondary"},fahrenheit:{color:"text-light"}},convertedTemps:v(a)})}}},{key:"render",value:function(){var e=this.props.data,t=e.main,a=e.name,n=e.weather,c=e.wind,l=e.sys;return r.a.createElement("div",{className:"p-3"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"col-5 p-1"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("h3",{className:"text-light text-capitalize d-inline-block"},"feels like ",Math.floor(this.state.convertedTemps.temp)),r.a.createElement("div",{className:"ml-2"},r.a.createElement("span",{className:"mr-1 ".concat(this.state.onClickProperties.celcius.color),style:{cursor:"pointer"},onClick:this.onCelciusClick},"\xb0C"),r.a.createElement("span",{className:"mr-1 text-light"},"|"),r.a.createElement("span",{className:this.state.onClickProperties.fahrenheit.color,style:{cursor:"pointer"},onClick:this.onFahrenheitClick},"\xb0F"))),r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("span",{className:"text-light text-capitalize d-inline-block col-6 p-0",style:{fontSize:"1.2rem"}},"min ",Math.floor(this.state.convertedTemps.temp_min),r.a.createElement("i",{className:"fas fa-arrow-down text-light ml-2",style:{fontSize:"1.2rem"}})),r.a.createElement("span",{className:"text-light text-capitalize d-inline-block col-6 p-0",style:{fontSize:"1.2rem"}},"max ",Math.floor(this.state.convertedTemps.temp_max),r.a.createElement("i",{className:"fas fa-arrow-up text-light ml-2",style:{fontSize:"1.2rem"}}))),r.a.createElement("div",{className:"d-flex"},r.a.createElement("span",{className:"text-light text-capitalize d-inline-block col-6 p-0"},"sunrise ".concat(E(l.sunrise))),r.a.createElement("span",{className:"text-light text-capitalize d-inline-block col-6 p-0"},"sunset  ".concat(E(l.sunset)))))),r.a.createElement("div",{className:"col-3 p-1 d-flex flex-column justify-content-start"},r.a.createElement("div",{className:"d-flex align-items-start justify-content-start"},r.a.createElement("h3",{className:"text-light text-capitalize"},n[0].description),r.a.createElement("img",{className:"d-inline-block",style:{width:"50px",marginTop:"-8px"},src:"http://openweathermap.org/img/wn/".concat(n[0].icon,"@2x.png"),alt:"Weather Icon"})),r.a.createElement("h4",{className:"text-light text-capitalize"},a," , ",l.country)),r.a.createElement("div",{className:"col-2 p-1 d-flex justify-content-around align-items-start"},r.a.createElement("i",{className:"fas fa-tint text-light align-self-center",style:{fontSize:"1.5rem",marginTop:"-10px"}}),r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("h3",{className:"text-light"},t.humidity,"%"),r.a.createElement("h4",{className:"text-secondary text-capitalize"},"humidity"))),r.a.createElement("div",{className:"col-2 p-1 d-flex justify-content-around align-items-start"},r.a.createElement("i",{className:"fas fa-wind text-light align-self-center",style:{fontSize:"1.5rem",marginTop:"-10px"}}),r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("h3",{className:"text-light"},c.speed," mph"),r.a.createElement("h4",{className:"text-secondary text-capitalize"},"wind")))))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={cityName:""},a.onFormSubmit=function(e){e.preventDefault(),a.props.onSearchSubmit(a.state.cityName)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.onFormSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Enter Name Of the City",className:"form-control w-50 mx-auto",value:this.state.cityName,onChange:function(t){return e.setState({cityName:t.target.value})},style:{boxShadow:"0 0 0 0 #fff"}})))}}]),t}(n.Component),b=function(e){var t,a=e.data,n=e.tempCondition,c=a.weather,l=a.main,s=a.dt,i=new Date(1e3*s),o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][i.getDay()],m=i.getHours()>12?i.getHours()-12:i.getHours(),p=i.getHours()>11?"PM":"AM";return t="fahrenheit"===n?g(l.temp):y(l.temp),r.a.createElement("div",{className:"py-2 d-flex"},r.a.createElement("div",{className:"col-5 d-flex"},r.a.createElement("h5",{className:"text-capitalize col-5 pr-0"},o),r.a.createElement("span",{className:"col-2 text-center pr-0",style:{fontSize:"1.25rem"}},m),r.a.createElement("span",{style:{fontSize:"1.25rem"}},p)),r.a.createElement("div",{className:"col-3"},r.a.createElement("h5",null,"".concat(Math.floor(t),"\xb0"))),r.a.createElement("div",{className:"col-4 d-flex"},r.a.createElement("h5",{className:"text-left text-capitalize text-secondary col-9"},c[0].description),r.a.createElement("img",{style:{width:"50px",marginTop:"-10px"},className:"ml-2",src:"http://openweathermap.org/img/wn/".concat(c[0].icon,"@2x.png"),alt:"Weather Icon"})))},k=function(e){var t=e.weatherItems,a=e.tempCondition,n=t.filter((function(e,t){return t%2===0})).map((function(e){return r.a.createElement(b,{data:e,key:e.dt,tempCondition:a})}));return r.a.createElement("div",{className:"p-4 d-flex justify-content-center",style:{backgroundColor:"#bbc4cc"}},r.a.createElement("div",{className:"col-10"},n))},S=a(8),C=a.n(S),j=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(p.a)(this,Object(u.a)(t).call(this))).fetchCurrentWeather=function(){var t,a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.openweathermap.org/data/2.5/weather",t="?APPID=".concat(e.key,"&lat=").concat(e.state.coords.latitude,"&lon=").concat(e.state.coords.longitude),n.next=4,i.a.awrap(C.a.get("https://api.openweathermap.org/data/2.5/weather"+t));case 4:a=n.sent,e.setState({currentWeatherData:a.data});case 6:case"end":return n.stop()}}))},e.onSearchSubmit=function(t){var a,n,r,c;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return"https://api.openweathermap.org/data/2.5/weather",a="https://api.openweathermap.org/data/2.5/forecast",n="?APPID=".concat(e.key,"&q=").concat(t),l.next=5,i.a.awrap(C.a.get("https://api.openweathermap.org/data/2.5/weather"+n));case 5:return r=l.sent,l.next=8,i.a.awrap(C.a.get(a+n+"&cnt=15"));case 8:c=l.sent,e.setState({currentWeatherData:r.data,hourlyWeatherList:c.data.list});case 10:case"end":return l.stop()}}))},e.fetchHourlyforecast=function(){var t,a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.openweathermap.org/data/2.5/forecast",t="?APPID=".concat(e.key,"&lat=").concat(e.state.coords.latitude,"&lon=").concat(e.state.coords.longitude,"&cnt=15"),n.next=4,i.a.awrap(C.a.get("https://api.openweathermap.org/data/2.5/forecast"+t));case 4:a=n.sent,e.setState({hourlyWeatherList:a.data.list});case 6:case"end":return n.stop()}}))},e.changeShowedTemp=function(t){e.setState({showedTemp:t})},e.state={coords:{latitude:null,longitude:null},currentWeatherData:{main:{temp:null,humidity:null,temp_min:null,temp_max:null},weather:[{description:null,icon:null}],name:null,sys:{country:null},wind:{speed:null}},hourlyWeatherList:[],showedTemp:"fahrenheit"},e.key="f67f875da7915dc3e498ee1cb2c4f8d3",e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var a=t.coords,n=a.latitude,r=a.longitude;e.setState({coords:{latitude:n,longitude:r}})})):prompt("can't retreive your location coordination"),console.log(this.state.coords.latitude)}},{key:"componentDidUpdate",value:function(e,t){t.coords.latitude!==this.state.coords.latitude&&(this.fetchCurrentWeather(),this.fetchHourlyforecast())}},{key:"render",value:function(){return null===this.state.currentWeatherData.name?r.a.createElement(f,null):r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement("div",{className:"mt-3"},r.a.createElement(N,{onSearchSubmit:this.onSearchSubmit})),r.a.createElement("div",{className:"container mt-3 mb-3"},r.a.createElement("div",{style:{backgroundColor:"rgb(26, 20, 63)"}},r.a.createElement(w,{data:this.state.currentWeatherData,changeShowedTemp:this.changeShowedTemp})),r.a.createElement("div",null,r.a.createElement(k,{weatherItems:this.state.hourlyWeatherList,tempCondition:this.state.showedTemp}))))}}]),t}(n.Component);l.a.render(r.a.createElement(j,null),document.querySelector("#root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.2750a05d.chunk.js.map